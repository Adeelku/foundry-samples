# Contract Analysis Agent

## Overview 

The Contract Analysis agent assists in reviewing multiple versions of a contract by evaluating the changes between them. It extracts key fields and clauses from the contracts and generates a detailed report that highlights the differences. The report is formatted in markdown to clearly identify these differences and it mirrors the structure of the contracts to ensure readability and makes it easy for the reviewer to understand all changes.

The agent performs the following: 

* **Contract Comparison**: Compare two versions of a contract to identify changes in key fields and clauses. Use specialized tools and techniques to extract relevant information from them. 
* **Report Generation**: Generate a detailed report on the differences between the two versions of the contract. Format reports using markdown to ensure clarity and readability. Organize content with headings, subheadings, bullet points, and numbered lists. 
* **Communication**: Communicate findings to the reviewer in a clear and concise manner. Identify the next actions for the reviewer. 

The agent uses the following tools:

* **Azure Content Understanding**: Contract analysis, content extraction, field extraction.
* **File Search**: Pull user-provided additional documents or brand guides.

## Sample Data

Example of the Standard Operating Procedure generated by the agent is located in the [assets folder](assets/output/sample_output.md). This response was generated from sample contracts located in [the input folder](assets/input).

## Getting Started

### Prerequisites

* [Python](https://www.python.org/downloads/)

### Instructions

#### Step 1: Create Azure AI Content Understanding Resource

[Follow the official documentation](https://learn.microsoft.com/azure/ai-services/content-understanding/how-to/create-multi-service-resource) to create an Azure AI Services resource that supports Content Understanding.

#### Step 2: Create Deployment Model

[Follow the official documentation](https://learn.microsoft.com/azure/ai-foundry/quickstarts/get-started-playground#deploy-a-chat-model) to create an Azure AI Foundry model deployment.

#### (Optional) Step 3: Create Azure AI Agent Service Agent

*This step is optional. If you don't create an Azure AI Agent, the program will create one for you automatically.*

1. Follow the official [Azure AI Agent Service documentation](https://learn.microsoft.com/azure/ai-services/agents/quickstart?pivots=ai-foundry-portal) to create the claims analysis agent (a chat completion agent). 
2. In the **Instructions** box, paste the contents of [AgentInstructions.md file](assets/input/AgentInstructions.md).

#### Step 4: Configure `.env` File

Duplicate the `src/.env.example` file as `src/.env` and provide the required configuration.

#### Step 5: Install Required Modules

Run the following command to install modules used by the application:

```sh
pip install -r requirements.txt
```

#### Step 6: Run Agent

Launch the application:

```sh
python src/template.py
```

## Resources

- Semantic Kernel [documentation](https://learn.microsoft.com/semantic-kernel/overview/) and [GitHub repo with source code](https://github.com/microsoft/semantic-kernel)
- [Azure AI Agent Service documentation](https://learn.microsoft.com/azure/ai-services/agents/)
- [Azure AI Content Understanding documentation](https://learn.microsoft.com/azure/ai-services/content-understanding/)
- [Azure AI Foundry documentation](https://learn.microsoft.com/azure/ai-foundry/)